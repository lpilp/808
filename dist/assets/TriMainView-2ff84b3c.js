import{bk as rr,u as q,aH as T,o,c as _,$,a0 as t,a3 as V,F as h,an as B,a6 as a,a as d,a5 as z,x as J,a4 as x}from"./vendor-5256128d.js";import{r as K}from"./util-e3ae35ca.js";import{_ as gr}from"./index-6679fe31.js";import"./_element-plus-868599d2.js";import"./_@element-plus-40b18ef4.js";import"./_@popperjs-c75af06c.js";const br=["rgbr","rbgr","brgr","bgrr","grbr","gbrr","rgbg","rbgg","brgg","bgrg","grbg","gbrg","rgbb","rbgb","brgb","bgrb","grbb","gbrb"],er=["rgbrgb","rgbrbg","rgbbrg","rgbbgr","rgbgrb","rgbgbr","rbgrgb","rbgrbg","rbgbrg","rbgbgr","rbggrb","rbggbr","brgrgb","brgrbg","brgbrg","brgbgr","brggrb","brggbr","bgrrgb","bgrrbg","bgrbrg","bgrbgr","bgrgrb","bgrgbr","grbrgb","grbrbg","grbbrg","grbbgr","grbgrb","grbgbr","gbrrgb","gbrrbg","gbrbrg","gbrbgr","gbrgrb","gbrgbr"],A={rgbrgb:["rgbrgb","gbrgbr","brgbrg"],rgbrbg:["rgbrbg","gbrbgr","brggrb"],rgbbrg:["rgbbrg","gbrrgb","brggbr"],rgbbgr:["rgbbgr","gbrgrb","brgrbg"],rgbgrb:["rgbgrb","gbrrbg","brgbgr"],rgbgbr:["rgbgbr","gbrbrg","brgrgb"],rbgrgb:["rbgrgb","bgrgbr","grbbrg"],rbgrbg:["rbgrbg","bgrbgr","grbgrb"],rbgbrg:["rbgbrg","bgrrgb","grbgbr"],rbgbgr:["rbgbgr","bgrgrb","grbrbg"],rbggrb:["rbggrb","bgrrbg","grbbgr"],rbggbr:["rbggbr","bgrbrg","grbrgb"],brgrgb:["brgrgb","rgbgbr","gbrbrg"],brgrbg:["brgrbg","rgbbgr","gbrgrb"],brgbrg:["brgbrg","rgbrgb","gbrgbr"],brgbgr:["brgbgr","rgbgrb","gbrrbg"],brggrb:["brggrb","rgbrbg","gbrbgr"],brggbr:["brggbr","rgbbrg","gbrrgb"],bgrrgb:["bgrrgb","grbgbr","rbgbrg"],bgrrbg:["bgrrbg","grbbgr","rbggrb"],bgrbrg:["bgrbrg","grbrgb","rbggbr"],bgrbgr:["bgrbgr","grbgrb","rbgrbg"],bgrgrb:["bgrgrb","grbrbg","rbgbgr"],bgrgbr:["bgrgbr","grbbrg","rbgrgb"],grbrgb:["grbrgb","rbggbr","bgrbrg"],grbrbg:["grbrbg","rbgbgr","bgrgrb"],grbbrg:["grbbrg","rbgrgb","bgrgbr"],grbbgr:["grbbgr","rbggrb","bgrrbg"],grbgrb:["grbgrb","rbgrbg","bgrbgr"],grbgbr:["grbgbr","rbgbrg","bgrrgb"],gbrrgb:["gbrrgb","brggbr","rgbbrg"],gbrrbg:["gbrrbg","brgbgr","rgbgrb"],gbrbrg:["gbrbrg","brgrgb","rgbgbr"],gbrbgr:["gbrbgr","brggrb","rgbrbg"],gbrgrb:["gbrgrb","brgrbg","rgbbgr"],gbrgbr:["gbrgbr","brgbrg","rgbrgb"],rgbr:["rgbr","gbrr","brgr"],rbgr:["rbgr","bgrr","grbr"],brgr:["brgr","rgbr","gbrr"],bgrr:["bgrr","grbr","rbgr"],grbr:["grbr","rbgr","bgrr"],gbrr:["gbrr","brgr","rgbr"],rgbg:["rgbg","gbrg","brgg"],rbgg:["rbgg","bgrg","grbg"],brgg:["brgg","rgbg","gbrg"],bgrg:["bgrg","grbg","rbgg"],grbg:["grbg","rbgg","bgrg"],gbrg:["gbrg","brgg","rgbg"],rgbb:["rgbb","gbrb","brgb"],rbgb:["rbgb","bgrb","grbb"],brgb:["brgb","rgbb","gbrb"],bgrb:["bgrb","grbb","rbgb"],grbb:["grbb","rbgb","bgrb"],gbrb:["gbrb","brgb","rgbb"]};function U(g,r){return A[r].indexOf(g)!=-1}function tr(g,r){return U(g,r)}function sr(g,r,l){g=g||1,r=r||8,r>34&&(r=36-g),l=l||"tri";let u=r+g,b=[];l=="tri"?b=er.slice(0):(b=br.slice(0),r>16&&b.concat(...b)),K(b);const c=b.slice(0,u),v=[];let n=c.slice(g);for(let e=0;e<g;e++)v.push(c[e]),nr(c[e],n,e);return K(n),console.log(n),{qu:v,qulist:n}}function lr(g,r,l){let u=g[l];g[l]=g[r],g[r]=u}function nr(g,r,l){let u=A[g],b;for(b=0;b<u.length;b++){if(g==u[b])continue;let c=r.indexOf(u[b],l);if(c!=-1){lr(r,l,c),console.log(`find it
`);return}}r[l]=u[b-1]}function ar(g){var r={err:[],ok:[],left:[]};console.log(g);for(var l in g){var u=g[l],b=u.ans||[],c=u.qu,v=u.qulist,n=or(c),e=0;for(e=0;e<b.length;e++){var I=n.indexOf(b[e]);I!=-1?r.ok.push(b[e]+"_"+l):r.err.push(b[e]+"_"+l)}for(e=0;e<n.length;e++)b.indexOf(n[e])==-1&&v.indexOf(n[e])!=-1&&r.left.push(n[e]+"_"+l)}return r}function or(g){var r="";for(var l in g)r==""?r+=A[g[l]].join(","):r+=","+A[g[l]].join(",");return r.split(",")}const O={double_rgb_alike:U,rgb_circle_alike:tr,pub_ques:sr,format_ans:ar};const ur={class:"card-header",style:{"text-align":"center","font-size":"16px"}},ir={key:0,style:{display:"flex","flex-wrap":"wrap"}},cr=["src"],_r={key:0,style:{"text-align":"center","font-size":"16px","font-weight":"bold"}},dr={style:{display:"flex","flex-wrap":"wrap",justify:"space-around"}},fr=["id","onClick"],pr=["src"],vr={class:"img_qab"},yr={style:{"text-align":"center","margin-top":"20px"}},mr={class:"card-header",style:{"text-align":"center","font-size":"16px"}},hr={style:{display:"flex","flex-wrap":"wrap"}},xr=["src"],kr={style:{display:"flex","flex-wrap":"wrap",justify:"space-around"}},wr=["id"],qr=["src"],Cr={class:"img_qab"},zr={__name:"TriMainView",setup(g){const r=rr(),l=r.currentRoute.value.query.type||"tri";let u=r.currentRoute.value.query.na||16,b=r.currentRoute.value.query.nq||2,c=r.currentRoute.value.query.nqs||2,v=r.currentRoute.value.query.sq||0;u=parseInt(u),b=parseInt(b),c=parseInt(c),v=parseInt(v);const n=q(1),e=q({}),I=q({}),F=q(!1),M=q(!0),R=q(!0),E=q(v);let m={};const W=65;let N;l=="cir"?N=O.rgb_circle_alike:N=O.double_rgb_alike;function S(){const s=O.pub_ques(b,u,l);e.value=s,m[n.value]=s,E.value=v,v>0&&D(E.value)}function D(s){s<=0?R.value=!1:(E.value=s,s--,setTimeout(()=>{D(s)},1e3))}function H(s){return String.fromCharCode(W+s)}function X(){R.value=!0,n.value==c&&alert("最后一题了"),n.value++,S()}function L(){F.value=!1,M.value=!0,R.value=!0,n.value=1,I.value={},m={},S()}function Y(){F.value=!0,M.value=!1,I.value=m;const s=O.format_ans(m);setTimeout(()=>{Z(s)},1e3)}function Z(s){for(var f=0;f<s.err.length;f++){var p=s.err[f];document.getElementById("sas_"+p).style.border=" 2px solid #FF0000"}s.ok.forEach(i=>{document.getElementById("sas_"+i).style.border=" 2px solid #07a707"}),s.left.forEach(i=>{document.getElementById("sas_"+i).style.border=" 2px dashed #07a707"})}function G(){window.location.href="/tri/inst"}function Q(s,f){m[f]=m[f]||{},m[f].ans=m[f].ans||[],m[f].ans.push(s);const p=e.value.qu;let i=!1;for(let C in p)if(i=N(s,p[C]),i)return document.getElementById("as_"+s+"_"+f).style.border=" 2px solid #999999",!0;return document.getElementById("as_"+s+"_"+f).style.border=" 2px solid #999999",!1}return S(),(s,f)=>{const p=T("el-col"),i=T("el-button"),C=T("el-row"),j=T("el-card");return o(),_(h,null,[M.value?(o(),$(j,{key:0,shadow:"always","body-style":{padding:"20px"}},{header:t(()=>[d("div",ur,[d("span",null,"第 "+z(n.value)+"/"+z(J(c))+" 题",1)])]),default:t(()=>[a(C,{gutter:20},{default:t(()=>[a(p,{span:4,offset:0},{default:t(()=>[R.value?(o(),_("div",ir,[(o(!0),_(h,null,B(e.value.qu,y=>(o(),_("div",{class:"img_inst",key:"inst"+y+n.value},[d("img",{src:"/img/tri/"+y+".svg"},null,8,cr)]))),128)),E.value>0?(o(),_("div",_r,z(E.value),1)):V("",!0)])):V("",!0)]),_:1}),a(p,{span:20,offset:0},{default:t(()=>[d("div",dr,[(o(!0),_(h,null,B(e.value.qulist,(y,k)=>(o(),_("div",{class:"img_ans",key:"as"+y+n.value,id:"as_"+y+"_"+n.value,onClick:w=>Q(y,n.value)},[d("img",{class:"img_img",src:"/img/tri/"+y+".svg"},null,8,pr),d("div",vr,[a(i,{type:"default",size:"small",class:"img_btn"},{default:t(()=>[x(z(H(k)),1)]),_:2},1024)])],8,fr))),128))])]),_:1})]),_:1}),a(C,{gutter:20},{default:t(()=>[a(p,{span:20,offset:2},{default:t(()=>[d("div",yr,[n.value<J(c)?(o(),$(i,{key:0,type:"default",size:"default",onClick:X},{default:t(()=>[x(" Next ")]),_:1})):(o(),_(h,{key:1},[a(i,{type:"primary",size:"default",onClick:L},{default:t(()=>[x("再来一组")]),_:1}),a(i,{type:"danger",size:"default",onClick:Y},{default:t(()=>[x("提交查看答案")]),_:1}),a(i,{type:"primary",size:"default",onClick:G},{default:t(()=>[x("返回")]),_:1})],64))])]),_:1})]),_:1})]),_:1})):V("",!0),F.value?(o(),_(h,{key:1},[(o(!0),_(h,null,B(I.value,(y,k)=>(o(),$(j,{shadow:"always","body-style":{padding:"20px"},key:"anscard_"+k,style:{"margin-bottom":"10px"}},{header:t(()=>[d("div",mr,[d("span",null,"第 "+z(k)+" 题",1)])]),default:t(()=>[a(C,{gutter:20},{default:t(()=>[a(p,{span:4,offset:0},{default:t(()=>[d("div",hr,[(o(!0),_(h,null,B(y.qu,w=>(o(),_("div",{class:"img_inst",key:"sinst"+w+k},[d("img",{src:"/img/tri/"+w+".svg"},null,8,xr)]))),128))])]),_:2},1024),a(p,{span:20,offset:0},{default:t(()=>[d("div",kr,[(o(!0),_(h,null,B(y.qulist,(w,P)=>(o(),_("div",{class:"img_ans",key:"sas"+w+k,id:"sas_"+w+"_"+k},[d("img",{class:"img_img",src:"/img/tri/"+w+".svg"},null,8,qr),d("div",Cr,[a(i,{type:"default",size:"small",class:"img_btn"},{default:t(()=>[x(z(H(P)),1)]),_:2},1024)])],8,wr))),128))])]),_:2},1024)]),_:2},1024)]),_:2},1024))),128)),a(j,null,{default:t(()=>[a(C,{gutter:20},{default:t(()=>[a(p,{span:20,offset:2,style:{"text-align":"center"}},{default:t(()=>[a(i,{type:"primary",size:"default",onClick:L},{default:t(()=>[x("再来一组")]),_:1}),a(i,{type:"primary",size:"default",onClick:G},{default:t(()=>[x("返回")]),_:1})]),_:1})]),_:1})]),_:1})],64)):V("",!0)],64)}}},Or=gr(zr,[["__scopeId","data-v-b64f0160"]]);export{Or as default};
